<?php
// ======================================
//  데이터베이스 연결 & USER 모델 불러오기
// ======================================

// 데이터베이스 연결 파일
require_once './config.php';
// User 모델 포함
require_once './User.php';

// ======================================
//  회원가입 요청 처리 (POST 요청인지 확인)
// ======================================
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    // ======================================
    // 사용자 입력 데이터 가져오기
    // ======================================
    
    // 학번
    $student_id = $_POST['student_id'];
    // 이름
    $name = $_POST['name'];
    // 이메일
    $email = $_POST['email'];
    // 비밀번호
    $password = $_POST['password'];
    // 비밀번호 확인
    $confirm_password = $_POST['confirm_password'];

    // ======================================
    //  비밀번호 확인 (두 값이 같은지 체크)
    // ======================================
    if ($password !== $confirm_password) {
        die ("비밀번호가 일치하지 않습니다.");
        // 에러 메시지 출력 후 종료
    }

    // ======================================
    // User 모델을 이용한 회원가입 처리
    // ======================================
    if (User::register($student_id, $name, $email, $password)) {
        echo "회원가입이 완료되었습니다.";
    } else {
        echo "회원가입이 실패했습니다.";
    }
    // 회원가입 성공 메시지

    // 회원가입 실패 메시지

}
?>
    